{"ast":null,"code":"var _jsxFileName = \"/Users/daniel.calderon/Projects/vinilogy/vinology/Vinology-client/src/components/queries.component.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { currentUser } from '../actions/user.action';\nimport { myQueries } from '../actions/query.action';\nimport ClimbingBoxLoader from \"react-spinners/ClimbingBoxLoader\";\nimport '../css/queries.css';\nimport { currentQuery } from '../actions/car.action';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass queries extends Component {\n  constructor() {\n    super();\n    this.loadMyQueries = () => {\n      const queriesArray = [];\n      const user = this.props.user.id;\n      fetch('${API_ENDPOINT}:${API_PORT}/api/v1/queries').then(resp => resp.json()).then(data => {\n        queriesArray.push(data.filter(query => query.user_id === user));\n        this.props.myQueries(queriesArray);\n        console.log('queries from queries');\n      });\n    };\n    this.handleLoading = () => {\n      this.setState({\n        loading: true\n      });\n      setTimeout(() => {\n        this.setState({\n          loading: false\n        });\n      }, 3000);\n    };\n    this.handleDelete = e => {\n      const query_id = e.target.value;\n      this.handleLoading();\n      fetch(`${API_ENDPOINT}:${API_PORT}/api/v1/queries/${query_id}`, {\n        method: 'DELETE'\n      });\n      this.loadMyQueries();\n    };\n    this.handleAdd = e => {\n      this.props.currentQuery(e.target.value);\n      this.props.history.push('/newcar');\n    };\n    this.handleEdit = e => {\n      const query_edit = e.target.value;\n      this.props.history.push({\n        pathname: '/edit',\n        state: query_edit\n      });\n    };\n    this.handleOnClick = e => {\n      const car_id = e.target.value;\n      this.props.history.push({\n        pathname: '/showcar',\n        state: car_id\n      });\n    };\n    this.state = {\n      queries: [],\n      car: [],\n      loading: false\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper-q\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner-r\",\n        children: !this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inner-r\",\n          children: this.props.queries ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inner\",\n            children: this.props.queries[0].map(query => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"firstTernary\",\n              children: /*#__PURE__*/_jsxDEV(\"body\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"container\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"face face1\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"content\",\n                        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                          children: query.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 111,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 109,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"face face2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"content\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: query.cars.map(car => /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"btn btn-link\",\n                            value: car.id,\n                            onClick: this.handleOnClick,\n                            children: [\" \", car.model]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 119,\n                            columnNumber: 28\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-outline-info\",\n                          value: query.id,\n                          onClick: this.handleAdd,\n                          children: \"Add\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 123,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-outline-info\",\n                          value: query.id,\n                          onClick: this.handleEdit,\n                          children: \"Edit \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-outline-secondary\",\n                          value: query.id,\n                          onClick: this.handleDelete,\n                          children: \"Delete\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 125,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 8\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }, this) : /*#__PURE__*/_jsxDEV(ClimbingBoxLoader, {\n            loading: true,\n            size: 30\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(ClimbingBoxLoader, {\n          loading: true,\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.userData,\n    queries: state.queryData\n  };\n};\nconst mapDispathToProps = {\n  currentUser,\n  myQueries,\n  currentQuery\n};\nexport default connect(mapStateToProps, mapDispathToProps)(queries);","map":{"version":3,"names":["React","Component","connect","currentUser","myQueries","ClimbingBoxLoader","currentQuery","queries","constructor","loadMyQueries","queriesArray","user","props","id","fetch","then","resp","json","data","push","filter","query","user_id","console","log","handleLoading","setState","loading","setTimeout","handleDelete","e","query_id","target","value","API_ENDPOINT","API_PORT","method","handleAdd","history","handleEdit","query_edit","pathname","state","handleOnClick","car_id","car","render","map","name","cars","model","mapStateToProps","userData","queryData","mapDispathToProps"],"sources":["/Users/daniel.calderon/Projects/vinilogy/vinology/Vinology-client/src/components/queries.component.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {currentUser} from '../actions/user.action'\nimport {myQueries} from '../actions/query.action'\nimport ClimbingBoxLoader from \"react-spinners/ClimbingBoxLoader\";\nimport '../css/queries.css';\nimport {currentQuery} from '../actions/car.action'\n\n\n\n\n\nclass queries extends Component{\n  constructor(){\n    super()\n    this.state = {\n     queries:[],\n     car:[],\n     loading: false\n    }\n  }\n\n  loadMyQueries=()=>{\n    \n    const queriesArray = []\n    const user = this.props.user.id\n    \n    \n  \n    fetch('${API_ENDPOINT}:${API_PORT}/api/v1/queries')\n      .then(resp=>resp.json())\n      .then(data=>{\n     \n       \n        queriesArray.push(data.filter(query=>query.user_id === user))\n            this.props.myQueries(queriesArray) \n    console.log('queries from queries')\n        })\n\n    }\n  \n\n  handleLoading=()=>{\n    this.setState({loading:true})\n     setTimeout(()=>{\n       this.setState({loading:false})\n     },3000)\n\n    }\n     \n\n  handleDelete=(e)=>{\n\n    \n    const query_id = e.target.value\n    this.handleLoading()\n\n      fetch(`${API_ENDPOINT}:${API_PORT}/api/v1/queries/${query_id}`,{method: 'DELETE'})\n      \n        this.loadMyQueries()\n        \n        \n    \n  }\n\n  handleAdd=(e)=>{\n    this.props.currentQuery(e.target.value)\n\n    \n\n    this.props.history.push('/newcar')\n  }\n\n\n  handleEdit=(e)=>{\n    const query_edit = e.target.value\n    this.props.history.push({\n      pathname: '/edit', \n      state: query_edit\n      })\n  }\n\n  handleOnClick=(e)=>{\n\n    const car_id = e.target.value\n\n    this.props.history.push({\n      pathname: '/showcar', \n      state: car_id\n      })\n  }\n\n  render(){\n    \n\n      return (\n      <div className=\"wrapper-q\" >\n      <div className='inner-r'>\n       {!this.state.loading?\n      <div className='inner-r'>\n        {this.props.queries?\n        <div className='inner'>\n              {this.props.queries[0].map(query=>\n       <div className=\"firstTernary\">\n        <body>\n            <div class=\"container\">\n                <div class=\"card\">\n                    <div class=\"face face1\">\n                        <div class=\"content\">\n                        \n                            <h3>{query.name}</h3>\n                        </div>\n                    </div>\n                    <div class=\"face face2\">\n                        <div class=\"content\">\n                        <div>\n                        {query.cars.map(car=>\n\n                           <button className=\"btn btn-link\" value={car.id} onClick={this.handleOnClick} > {car.model}</button>\n                          \n                           )}\n                          </div>\n                          <button className=\"btn btn-outline-info\" value={query.id}onClick={this.handleAdd}>Add</button>\n                          <button className=\"btn btn-outline-info\" value={query.id}onClick={this.handleEdit}>Edit </button>\n                          <button className=\"btn btn-outline-secondary\" value={query.id}onClick={this.handleDelete}>Delete</button>\n                        </div>\n                       </div>\n                      </div>\n                  </div>\n               </body>\n              </div>\n            )} \n        </div>\n        : <ClimbingBoxLoader  loading={true} size={30}  /> }\n        </div>\n      : <ClimbingBoxLoader  loading={true} size={30}  /> }</div>\n       </div>\n\n    \n    );\n  } \n}\n\nconst mapStateToProps = (state)=>{\n  \n  return {\n      user: state.userData,\n      queries: state.queryData\n  }\n  \n}\n\nconst mapDispathToProps ={\n\n  currentUser, myQueries, currentQuery\n}\n\nexport default connect (mapStateToProps, mapDispathToProps)(queries)\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}