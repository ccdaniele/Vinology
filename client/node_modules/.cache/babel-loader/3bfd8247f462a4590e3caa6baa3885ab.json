{"ast":null,"code":"'use strict';\n\nconst tx = require('../../dd-trace/src/plugins/util/promise');\n\nfunction createPatch(file) {\n  return {\n    name: 'knex',\n    versions: ['>=0.8.0'],\n    file,\n\n    patch(Builder, tracer, config) {\n      this.wrap(Builder.prototype, 'then', tx.createWrapThen(tracer, config));\n    },\n\n    unpatch(Builder) {\n      this.unwrap(Builder.prototype, 'then');\n    }\n\n  };\n}\n\nmodule.exports = [createPatch('lib/query/builder.js'), createPatch('lib/raw.js'), createPatch('lib/schema/builder.js')];","map":{"version":3,"sources":["/Users/danielcalderon/vinology/Vinology-client/node_modules/dd-trace/packages/datadog-plugin-knex/src/index.js"],"names":["tx","require","createPatch","file","name","versions","patch","Builder","tracer","config","wrap","prototype","createWrapThen","unpatch","unwrap","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,yCAAD,CAAlB;;AAEA,SAASC,WAAT,CAAsBC,IAAtB,EAA4B;AAC1B,SAAO;AACLC,IAAAA,IAAI,EAAE,MADD;AAELC,IAAAA,QAAQ,EAAE,CAAC,SAAD,CAFL;AAGLF,IAAAA,IAHK;;AAILG,IAAAA,KAAK,CAAEC,OAAF,EAAWC,MAAX,EAAmBC,MAAnB,EAA2B;AAC9B,WAAKC,IAAL,CAAUH,OAAO,CAACI,SAAlB,EAA6B,MAA7B,EAAqCX,EAAE,CAACY,cAAH,CAAkBJ,MAAlB,EAA0BC,MAA1B,CAArC;AACD,KANI;;AAOLI,IAAAA,OAAO,CAAEN,OAAF,EAAW;AAChB,WAAKO,MAAL,CAAYP,OAAO,CAACI,SAApB,EAA+B,MAA/B;AACD;;AATI,GAAP;AAWD;;AAEDI,MAAM,CAACC,OAAP,GAAiB,CACfd,WAAW,CAAC,sBAAD,CADI,EAEfA,WAAW,CAAC,YAAD,CAFI,EAGfA,WAAW,CAAC,uBAAD,CAHI,CAAjB","sourcesContent":["'use strict'\n\nconst tx = require('../../dd-trace/src/plugins/util/promise')\n\nfunction createPatch (file) {\n  return {\n    name: 'knex',\n    versions: ['>=0.8.0'],\n    file,\n    patch (Builder, tracer, config) {\n      this.wrap(Builder.prototype, 'then', tx.createWrapThen(tracer, config))\n    },\n    unpatch (Builder) {\n      this.unwrap(Builder.prototype, 'then')\n    }\n  }\n}\n\nmodule.exports = [\n  createPatch('lib/query/builder.js'),\n  createPatch('lib/raw.js'),\n  createPatch('lib/schema/builder.js')\n]\n"]},"metadata":{},"sourceType":"script"}