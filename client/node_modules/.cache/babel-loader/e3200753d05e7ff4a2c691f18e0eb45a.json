{"ast":null,"code":"'use strict';\n\nconst tx = require('../../dd-trace/src/plugins/util/promise');\n\nmodule.exports = [{\n  name: 'promise-js',\n  versions: ['>=0.0.3'],\n\n  patch(Promise, tracer, config) {\n    if (Promise !== global.Promise) {\n      this.wrap(Promise.prototype, 'then', tx.createWrapThen(tracer, config));\n    }\n  },\n\n  unpatch(Promise) {\n    if (Promise !== global.Promise) {\n      this.unwrap(Promise.prototype, 'then');\n    }\n  }\n\n}];","map":{"version":3,"sources":["/Users/danielcalderon/vinology/Vinology-client/node_modules/dd-trace/packages/datadog-plugin-promise-js/src/index.js"],"names":["tx","require","module","exports","name","versions","patch","Promise","tracer","config","global","wrap","prototype","createWrapThen","unpatch","unwrap"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,yCAAD,CAAlB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CACf;AACEC,EAAAA,IAAI,EAAE,YADR;AAEEC,EAAAA,QAAQ,EAAE,CAAC,SAAD,CAFZ;;AAGEC,EAAAA,KAAK,CAAEC,OAAF,EAAWC,MAAX,EAAmBC,MAAnB,EAA2B;AAC9B,QAAIF,OAAO,KAAKG,MAAM,CAACH,OAAvB,EAAgC;AAC9B,WAAKI,IAAL,CAAUJ,OAAO,CAACK,SAAlB,EAA6B,MAA7B,EAAqCZ,EAAE,CAACa,cAAH,CAAkBL,MAAlB,EAA0BC,MAA1B,CAArC;AACD;AACF,GAPH;;AAQEK,EAAAA,OAAO,CAAEP,OAAF,EAAW;AAChB,QAAIA,OAAO,KAAKG,MAAM,CAACH,OAAvB,EAAgC;AAC9B,WAAKQ,MAAL,CAAYR,OAAO,CAACK,SAApB,EAA+B,MAA/B;AACD;AACF;;AAZH,CADe,CAAjB","sourcesContent":["'use strict'\n\nconst tx = require('../../dd-trace/src/plugins/util/promise')\n\nmodule.exports = [\n  {\n    name: 'promise-js',\n    versions: ['>=0.0.3'],\n    patch (Promise, tracer, config) {\n      if (Promise !== global.Promise) {\n        this.wrap(Promise.prototype, 'then', tx.createWrapThen(tracer, config))\n      }\n    },\n    unpatch (Promise) {\n      if (Promise !== global.Promise) {\n        this.unwrap(Promise.prototype, 'then')\n      }\n    }\n  }\n]\n"]},"metadata":{},"sourceType":"script"}