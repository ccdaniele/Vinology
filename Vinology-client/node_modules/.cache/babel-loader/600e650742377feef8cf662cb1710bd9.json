{"ast":null,"code":"'use strict';\n\nconst web = require('../../dd-trace/src/plugins/util/web');\n\nfunction createWrapDispatch(tracer, config) {\n  config = web.normalizeConfig(config);\n  return function wrapDispatch(dispatch) {\n    return function dispatchWithTrace(options) {\n      const handler = dispatch.apply(this, arguments);\n      if (typeof handler !== 'function') return handler;\n      return function (req, res) {\n        return web.instrument(tracer, config, req, res, 'hapi.request', () => {\n          return handler.apply(this, arguments);\n        });\n      };\n    };\n  };\n}\n\nfunction createWrapServer(tracer) {\n  return function wrapServer(server) {\n    return function serverWithTrace(options) {\n      const app = server.apply(this, arguments);\n      if (!app) return app;\n\n      if (typeof app.ext === 'function') {\n        app.ext = createWrapExt(tracer)(app.ext);\n      }\n\n      if (typeof app.start === 'function') {\n        app.start = createWrapStart(tracer)(app.start);\n      }\n\n      return app;\n    };\n  };\n}\n\nfunction createWrapStart() {\n  return function wrapStart(start) {\n    return function startWithTrace() {\n      if (this && typeof this.ext === 'function') {\n        this.ext('onPreResponse', onPreResponse);\n      }\n\n      return start.apply(this, arguments);\n    };\n  };\n}\n\nfunction createWrapExt() {\n  return function wrapExt(ext) {\n    return function extWithTrace(events, method, options) {\n      if (typeof events === 'object') {\n        arguments[0] = wrapEvents(events);\n      } else {\n        arguments[1] = wrapExtension(method);\n      }\n\n      return ext.apply(this, arguments);\n    };\n  };\n}\n\nfunction wrapExtension(method) {\n  return [].concat(method).map(wrapHandler);\n}\n\nfunction wrapEvents(events) {\n  return [].concat(events).map(event => {\n    if (!event || !event.method) return event;\n    return Object.assign({}, event, {\n      method: wrapExtension(event.method)\n    });\n  });\n}\n\nfunction wrapHandler(handler) {\n  if (typeof handler !== 'function') return handler;\n  return function (request, h) {\n    if (!request || !request.raw) return handler.apply(this, arguments);\n    return web.reactivate(request.raw.req, () => handler.apply(this, arguments));\n  };\n}\n\nfunction onPreResponse(request, h) {\n  if (!request || !request.raw) return reply(request, h);\n  const req = request.raw.req;\n  web.addError(req, request.response);\n\n  if (request.route) {\n    web.enterRoute(req, request.route.path);\n  }\n\n  return reply(request, h);\n}\n\nfunction reply(request, h) {\n  if (h.continue) {\n    return typeof h.continue === 'function' ? h.continue() : h.continue;\n  } else if (typeof h === 'function') {\n    return h();\n  }\n}\n\nmodule.exports = [{\n  name: '@hapi/hapi',\n  versions: ['>=17.9'],\n\n  patch(hapi, tracer, config) {\n    this.wrap(hapi, ['server', 'Server'], createWrapServer(tracer, config));\n  },\n\n  unpatch(hapi) {\n    this.unwrap(hapi, ['server', 'Server']);\n  }\n\n}, {\n  name: 'hapi',\n  versions: ['>=17'],\n\n  patch(hapi, tracer, config) {\n    this.wrap(hapi, ['server', 'Server'], createWrapServer(tracer, config));\n  },\n\n  unpatch(hapi) {\n    this.unwrap(hapi, ['server', 'Server']);\n  }\n\n}, {\n  name: 'hapi',\n  versions: ['2 - 7.1', '8 - 16'],\n\n  patch(hapi, tracer, config) {\n    this.wrap(hapi.Server.prototype, 'start', createWrapStart(tracer, config));\n    this.wrap(hapi.Server.prototype, 'ext', createWrapExt(tracer, config));\n  },\n\n  unpatch(hapi) {\n    this.unwrap(hapi.Server.prototype, 'start');\n    this.unwrap(hapi.Server.prototype, 'ext');\n  }\n\n}, {\n  name: 'hapi',\n  versions: ['^7.2'],\n\n  patch(hapi, tracer, config) {\n    this.wrap(hapi, 'createServer', createWrapServer(tracer, config));\n  },\n\n  unpatch(hapi) {\n    this.unwrap(hapi, 'createServer');\n  }\n\n}, {\n  name: '@hapi/hapi',\n  versions: ['>=17.9'],\n  file: 'lib/core.js',\n\n  patch(Core, tracer, config) {\n    this.wrap(Core.prototype, '_dispatch', createWrapDispatch(tracer, config));\n  },\n\n  unpatch(Core) {\n    this.unwrap(Core.prototype, '_dispatch');\n  }\n\n}, {\n  name: 'hapi',\n  versions: ['7.2 - 16'],\n  file: 'lib/connection.js',\n\n  patch(Connection, tracer, config) {\n    this.wrap(Connection.prototype, '_dispatch', createWrapDispatch(tracer, config));\n  },\n\n  unpatch(Connection) {\n    this.unwrap(Connection.prototype, '_dispatch');\n  }\n\n}, {\n  name: 'hapi',\n  versions: ['>=17'],\n  file: 'lib/core.js',\n\n  patch(Core, tracer, config) {\n    this.wrap(Core.prototype, '_dispatch', createWrapDispatch(tracer, config));\n  },\n\n  unpatch(Core) {\n    this.unwrap(Core.prototype, '_dispatch');\n  }\n\n}, {\n  name: 'hapi',\n  versions: ['2 - 7.1'],\n  file: 'lib/server.js',\n\n  patch(Server, tracer, config) {\n    this.wrap(Server.prototype, '_dispatch', createWrapDispatch(tracer, config));\n  },\n\n  unpatch(Server) {\n    this.unwrap(Server.prototype, '_dispatch');\n  }\n\n}];","map":{"version":3,"sources":["/Users/danielcalderon/vinology/Vinology-client/node_modules/dd-trace/packages/datadog-plugin-hapi/src/server.js"],"names":["web","require","createWrapDispatch","tracer","config","normalizeConfig","wrapDispatch","dispatch","dispatchWithTrace","options","handler","apply","arguments","req","res","instrument","createWrapServer","wrapServer","server","serverWithTrace","app","ext","createWrapExt","start","createWrapStart","wrapStart","startWithTrace","onPreResponse","wrapExt","extWithTrace","events","method","wrapEvents","wrapExtension","concat","map","wrapHandler","event","Object","assign","request","h","raw","reactivate","reply","addError","response","route","enterRoute","path","continue","module","exports","name","versions","patch","hapi","wrap","unpatch","unwrap","Server","prototype","file","Core","Connection"],"mappings":"AAAA;;AAEA,MAAMA,GAAG,GAAGC,OAAO,CAAC,qCAAD,CAAnB;;AAEA,SAASC,kBAAT,CAA6BC,MAA7B,EAAqCC,MAArC,EAA6C;AAC3CA,EAAAA,MAAM,GAAGJ,GAAG,CAACK,eAAJ,CAAoBD,MAApB,CAAT;AAEA,SAAO,SAASE,YAAT,CAAuBC,QAAvB,EAAiC;AACtC,WAAO,SAASC,iBAAT,CAA4BC,OAA5B,EAAqC;AAC1C,YAAMC,OAAO,GAAGH,QAAQ,CAACI,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAhB;AAEA,UAAI,OAAOF,OAAP,KAAmB,UAAvB,EAAmC,OAAOA,OAAP;AAEnC,aAAO,UAAUG,GAAV,EAAeC,GAAf,EAAoB;AACzB,eAAOd,GAAG,CAACe,UAAJ,CAAeZ,MAAf,EAAuBC,MAAvB,EAA+BS,GAA/B,EAAoCC,GAApC,EAAyC,cAAzC,EAAyD,MAAM;AACpE,iBAAOJ,OAAO,CAACC,KAAR,CAAc,IAAd,EAAoBC,SAApB,CAAP;AACD,SAFM,CAAP;AAGD,OAJD;AAKD,KAVD;AAWD,GAZD;AAaD;;AAED,SAASI,gBAAT,CAA2Bb,MAA3B,EAAmC;AACjC,SAAO,SAASc,UAAT,CAAqBC,MAArB,EAA6B;AAClC,WAAO,SAASC,eAAT,CAA0BV,OAA1B,EAAmC;AACxC,YAAMW,GAAG,GAAGF,MAAM,CAACP,KAAP,CAAa,IAAb,EAAmBC,SAAnB,CAAZ;AAEA,UAAI,CAACQ,GAAL,EAAU,OAAOA,GAAP;;AAEV,UAAI,OAAOA,GAAG,CAACC,GAAX,KAAmB,UAAvB,EAAmC;AACjCD,QAAAA,GAAG,CAACC,GAAJ,GAAUC,aAAa,CAACnB,MAAD,CAAb,CAAsBiB,GAAG,CAACC,GAA1B,CAAV;AACD;;AAED,UAAI,OAAOD,GAAG,CAACG,KAAX,KAAqB,UAAzB,EAAqC;AACnCH,QAAAA,GAAG,CAACG,KAAJ,GAAYC,eAAe,CAACrB,MAAD,CAAf,CAAwBiB,GAAG,CAACG,KAA5B,CAAZ;AACD;;AAED,aAAOH,GAAP;AACD,KAdD;AAeD,GAhBD;AAiBD;;AAED,SAASI,eAAT,GAA4B;AAC1B,SAAO,SAASC,SAAT,CAAoBF,KAApB,EAA2B;AAChC,WAAO,SAASG,cAAT,GAA2B;AAChC,UAAI,QAAQ,OAAO,KAAKL,GAAZ,KAAoB,UAAhC,EAA4C;AAC1C,aAAKA,GAAL,CAAS,eAAT,EAA0BM,aAA1B;AACD;;AAED,aAAOJ,KAAK,CAACZ,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACD,KAND;AAOD,GARD;AASD;;AAED,SAASU,aAAT,GAA0B;AACxB,SAAO,SAASM,OAAT,CAAkBP,GAAlB,EAAuB;AAC5B,WAAO,SAASQ,YAAT,CAAuBC,MAAvB,EAA+BC,MAA/B,EAAuCtB,OAAvC,EAAgD;AACrD,UAAI,OAAOqB,MAAP,KAAkB,QAAtB,EAAgC;AAC9BlB,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAeoB,UAAU,CAACF,MAAD,CAAzB;AACD,OAFD,MAEO;AACLlB,QAAAA,SAAS,CAAC,CAAD,CAAT,GAAeqB,aAAa,CAACF,MAAD,CAA5B;AACD;;AAED,aAAOV,GAAG,CAACV,KAAJ,CAAU,IAAV,EAAgBC,SAAhB,CAAP;AACD,KARD;AASD,GAVD;AAWD;;AAED,SAASqB,aAAT,CAAwBF,MAAxB,EAAgC;AAC9B,SAAO,GAAGG,MAAH,CAAUH,MAAV,EAAkBI,GAAlB,CAAsBC,WAAtB,CAAP;AACD;;AAED,SAASJ,UAAT,CAAqBF,MAArB,EAA6B;AAC3B,SAAO,GAAGI,MAAH,CAAUJ,MAAV,EAAkBK,GAAlB,CAAsBE,KAAK,IAAI;AACpC,QAAI,CAACA,KAAD,IAAU,CAACA,KAAK,CAACN,MAArB,EAA6B,OAAOM,KAAP;AAE7B,WAAOC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,KAAlB,EAAyB;AAC9BN,MAAAA,MAAM,EAAEE,aAAa,CAACI,KAAK,CAACN,MAAP;AADS,KAAzB,CAAP;AAGD,GANM,CAAP;AAOD;;AAED,SAASK,WAAT,CAAsB1B,OAAtB,EAA+B;AAC7B,MAAI,OAAOA,OAAP,KAAmB,UAAvB,EAAmC,OAAOA,OAAP;AAEnC,SAAO,UAAU8B,OAAV,EAAmBC,CAAnB,EAAsB;AAC3B,QAAI,CAACD,OAAD,IAAY,CAACA,OAAO,CAACE,GAAzB,EAA8B,OAAOhC,OAAO,CAACC,KAAR,CAAc,IAAd,EAAoBC,SAApB,CAAP;AAE9B,WAAOZ,GAAG,CAAC2C,UAAJ,CAAeH,OAAO,CAACE,GAAR,CAAY7B,GAA3B,EAAgC,MAAMH,OAAO,CAACC,KAAR,CAAc,IAAd,EAAoBC,SAApB,CAAtC,CAAP;AACD,GAJD;AAKD;;AAED,SAASe,aAAT,CAAwBa,OAAxB,EAAiCC,CAAjC,EAAoC;AAClC,MAAI,CAACD,OAAD,IAAY,CAACA,OAAO,CAACE,GAAzB,EAA8B,OAAOE,KAAK,CAACJ,OAAD,EAAUC,CAAV,CAAZ;AAE9B,QAAM5B,GAAG,GAAG2B,OAAO,CAACE,GAAR,CAAY7B,GAAxB;AAEAb,EAAAA,GAAG,CAAC6C,QAAJ,CAAahC,GAAb,EAAkB2B,OAAO,CAACM,QAA1B;;AAEA,MAAIN,OAAO,CAACO,KAAZ,EAAmB;AACjB/C,IAAAA,GAAG,CAACgD,UAAJ,CAAenC,GAAf,EAAoB2B,OAAO,CAACO,KAAR,CAAcE,IAAlC;AACD;;AAED,SAAOL,KAAK,CAACJ,OAAD,EAAUC,CAAV,CAAZ;AACD;;AAED,SAASG,KAAT,CAAgBJ,OAAhB,EAAyBC,CAAzB,EAA4B;AAC1B,MAAIA,CAAC,CAACS,QAAN,EAAgB;AACd,WAAO,OAAOT,CAAC,CAACS,QAAT,KAAsB,UAAtB,GACHT,CAAC,CAACS,QAAF,EADG,GAEHT,CAAC,CAACS,QAFN;AAGD,GAJD,MAIO,IAAI,OAAOT,CAAP,KAAa,UAAjB,EAA6B;AAClC,WAAOA,CAAC,EAAR;AACD;AACF;;AAEDU,MAAM,CAACC,OAAP,GAAiB,CACf;AACEC,EAAAA,IAAI,EAAE,YADR;AAEEC,EAAAA,QAAQ,EAAE,CAAC,QAAD,CAFZ;;AAGEC,EAAAA,KAAK,CAAEC,IAAF,EAAQrD,MAAR,EAAgBC,MAAhB,EAAwB;AAC3B,SAAKqD,IAAL,CAAUD,IAAV,EAAgB,CAAC,QAAD,EAAW,QAAX,CAAhB,EAAsCxC,gBAAgB,CAACb,MAAD,EAASC,MAAT,CAAtD;AACD,GALH;;AAMEsD,EAAAA,OAAO,CAAEF,IAAF,EAAQ;AACb,SAAKG,MAAL,CAAYH,IAAZ,EAAkB,CAAC,QAAD,EAAW,QAAX,CAAlB;AACD;;AARH,CADe,EAWf;AACEH,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,QAAQ,EAAE,CAAC,MAAD,CAFZ;;AAGEC,EAAAA,KAAK,CAAEC,IAAF,EAAQrD,MAAR,EAAgBC,MAAhB,EAAwB;AAC3B,SAAKqD,IAAL,CAAUD,IAAV,EAAgB,CAAC,QAAD,EAAW,QAAX,CAAhB,EAAsCxC,gBAAgB,CAACb,MAAD,EAASC,MAAT,CAAtD;AACD,GALH;;AAMEsD,EAAAA,OAAO,CAAEF,IAAF,EAAQ;AACb,SAAKG,MAAL,CAAYH,IAAZ,EAAkB,CAAC,QAAD,EAAW,QAAX,CAAlB;AACD;;AARH,CAXe,EAqBf;AACEH,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,QAAQ,EAAE,CAAC,SAAD,EAAY,QAAZ,CAFZ;;AAGEC,EAAAA,KAAK,CAAEC,IAAF,EAAQrD,MAAR,EAAgBC,MAAhB,EAAwB;AAC3B,SAAKqD,IAAL,CAAUD,IAAI,CAACI,MAAL,CAAYC,SAAtB,EAAiC,OAAjC,EAA0CrC,eAAe,CAACrB,MAAD,EAASC,MAAT,CAAzD;AACA,SAAKqD,IAAL,CAAUD,IAAI,CAACI,MAAL,CAAYC,SAAtB,EAAiC,KAAjC,EAAwCvC,aAAa,CAACnB,MAAD,EAASC,MAAT,CAArD;AACD,GANH;;AAOEsD,EAAAA,OAAO,CAAEF,IAAF,EAAQ;AACb,SAAKG,MAAL,CAAYH,IAAI,CAACI,MAAL,CAAYC,SAAxB,EAAmC,OAAnC;AACA,SAAKF,MAAL,CAAYH,IAAI,CAACI,MAAL,CAAYC,SAAxB,EAAmC,KAAnC;AACD;;AAVH,CArBe,EAiCf;AACER,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,QAAQ,EAAE,CAAC,MAAD,CAFZ;;AAGEC,EAAAA,KAAK,CAAEC,IAAF,EAAQrD,MAAR,EAAgBC,MAAhB,EAAwB;AAC3B,SAAKqD,IAAL,CAAUD,IAAV,EAAgB,cAAhB,EAAgCxC,gBAAgB,CAACb,MAAD,EAASC,MAAT,CAAhD;AACD,GALH;;AAMEsD,EAAAA,OAAO,CAAEF,IAAF,EAAQ;AACb,SAAKG,MAAL,CAAYH,IAAZ,EAAkB,cAAlB;AACD;;AARH,CAjCe,EA2Cf;AACEH,EAAAA,IAAI,EAAE,YADR;AAEEC,EAAAA,QAAQ,EAAE,CAAC,QAAD,CAFZ;AAGEQ,EAAAA,IAAI,EAAE,aAHR;;AAIEP,EAAAA,KAAK,CAAEQ,IAAF,EAAQ5D,MAAR,EAAgBC,MAAhB,EAAwB;AAC3B,SAAKqD,IAAL,CAAUM,IAAI,CAACF,SAAf,EAA0B,WAA1B,EAAuC3D,kBAAkB,CAACC,MAAD,EAASC,MAAT,CAAzD;AACD,GANH;;AAOEsD,EAAAA,OAAO,CAAEK,IAAF,EAAQ;AACb,SAAKJ,MAAL,CAAYI,IAAI,CAACF,SAAjB,EAA4B,WAA5B;AACD;;AATH,CA3Ce,EAsDf;AACER,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,QAAQ,EAAE,CAAC,UAAD,CAFZ;AAGEQ,EAAAA,IAAI,EAAE,mBAHR;;AAIEP,EAAAA,KAAK,CAAES,UAAF,EAAc7D,MAAd,EAAsBC,MAAtB,EAA8B;AACjC,SAAKqD,IAAL,CAAUO,UAAU,CAACH,SAArB,EAAgC,WAAhC,EAA6C3D,kBAAkB,CAACC,MAAD,EAASC,MAAT,CAA/D;AACD,GANH;;AAOEsD,EAAAA,OAAO,CAAEM,UAAF,EAAc;AACnB,SAAKL,MAAL,CAAYK,UAAU,CAACH,SAAvB,EAAkC,WAAlC;AACD;;AATH,CAtDe,EAiEf;AACER,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,QAAQ,EAAE,CAAC,MAAD,CAFZ;AAGEQ,EAAAA,IAAI,EAAE,aAHR;;AAIEP,EAAAA,KAAK,CAAEQ,IAAF,EAAQ5D,MAAR,EAAgBC,MAAhB,EAAwB;AAC3B,SAAKqD,IAAL,CAAUM,IAAI,CAACF,SAAf,EAA0B,WAA1B,EAAuC3D,kBAAkB,CAACC,MAAD,EAASC,MAAT,CAAzD;AACD,GANH;;AAOEsD,EAAAA,OAAO,CAAEK,IAAF,EAAQ;AACb,SAAKJ,MAAL,CAAYI,IAAI,CAACF,SAAjB,EAA4B,WAA5B;AACD;;AATH,CAjEe,EA4Ef;AACER,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,QAAQ,EAAE,CAAC,SAAD,CAFZ;AAGEQ,EAAAA,IAAI,EAAE,eAHR;;AAIEP,EAAAA,KAAK,CAAEK,MAAF,EAAUzD,MAAV,EAAkBC,MAAlB,EAA0B;AAC7B,SAAKqD,IAAL,CAAUG,MAAM,CAACC,SAAjB,EAA4B,WAA5B,EAAyC3D,kBAAkB,CAACC,MAAD,EAASC,MAAT,CAA3D;AACD,GANH;;AAOEsD,EAAAA,OAAO,CAAEE,MAAF,EAAU;AACf,SAAKD,MAAL,CAAYC,MAAM,CAACC,SAAnB,EAA8B,WAA9B;AACD;;AATH,CA5Ee,CAAjB","sourcesContent":["'use strict'\n\nconst web = require('../../dd-trace/src/plugins/util/web')\n\nfunction createWrapDispatch (tracer, config) {\n  config = web.normalizeConfig(config)\n\n  return function wrapDispatch (dispatch) {\n    return function dispatchWithTrace (options) {\n      const handler = dispatch.apply(this, arguments)\n\n      if (typeof handler !== 'function') return handler\n\n      return function (req, res) {\n        return web.instrument(tracer, config, req, res, 'hapi.request', () => {\n          return handler.apply(this, arguments)\n        })\n      }\n    }\n  }\n}\n\nfunction createWrapServer (tracer) {\n  return function wrapServer (server) {\n    return function serverWithTrace (options) {\n      const app = server.apply(this, arguments)\n\n      if (!app) return app\n\n      if (typeof app.ext === 'function') {\n        app.ext = createWrapExt(tracer)(app.ext)\n      }\n\n      if (typeof app.start === 'function') {\n        app.start = createWrapStart(tracer)(app.start)\n      }\n\n      return app\n    }\n  }\n}\n\nfunction createWrapStart () {\n  return function wrapStart (start) {\n    return function startWithTrace () {\n      if (this && typeof this.ext === 'function') {\n        this.ext('onPreResponse', onPreResponse)\n      }\n\n      return start.apply(this, arguments)\n    }\n  }\n}\n\nfunction createWrapExt () {\n  return function wrapExt (ext) {\n    return function extWithTrace (events, method, options) {\n      if (typeof events === 'object') {\n        arguments[0] = wrapEvents(events)\n      } else {\n        arguments[1] = wrapExtension(method)\n      }\n\n      return ext.apply(this, arguments)\n    }\n  }\n}\n\nfunction wrapExtension (method) {\n  return [].concat(method).map(wrapHandler)\n}\n\nfunction wrapEvents (events) {\n  return [].concat(events).map(event => {\n    if (!event || !event.method) return event\n\n    return Object.assign({}, event, {\n      method: wrapExtension(event.method)\n    })\n  })\n}\n\nfunction wrapHandler (handler) {\n  if (typeof handler !== 'function') return handler\n\n  return function (request, h) {\n    if (!request || !request.raw) return handler.apply(this, arguments)\n\n    return web.reactivate(request.raw.req, () => handler.apply(this, arguments))\n  }\n}\n\nfunction onPreResponse (request, h) {\n  if (!request || !request.raw) return reply(request, h)\n\n  const req = request.raw.req\n\n  web.addError(req, request.response)\n\n  if (request.route) {\n    web.enterRoute(req, request.route.path)\n  }\n\n  return reply(request, h)\n}\n\nfunction reply (request, h) {\n  if (h.continue) {\n    return typeof h.continue === 'function'\n      ? h.continue()\n      : h.continue\n  } else if (typeof h === 'function') {\n    return h()\n  }\n}\n\nmodule.exports = [\n  {\n    name: '@hapi/hapi',\n    versions: ['>=17.9'],\n    patch (hapi, tracer, config) {\n      this.wrap(hapi, ['server', 'Server'], createWrapServer(tracer, config))\n    },\n    unpatch (hapi) {\n      this.unwrap(hapi, ['server', 'Server'])\n    }\n  },\n  {\n    name: 'hapi',\n    versions: ['>=17'],\n    patch (hapi, tracer, config) {\n      this.wrap(hapi, ['server', 'Server'], createWrapServer(tracer, config))\n    },\n    unpatch (hapi) {\n      this.unwrap(hapi, ['server', 'Server'])\n    }\n  },\n  {\n    name: 'hapi',\n    versions: ['2 - 7.1', '8 - 16'],\n    patch (hapi, tracer, config) {\n      this.wrap(hapi.Server.prototype, 'start', createWrapStart(tracer, config))\n      this.wrap(hapi.Server.prototype, 'ext', createWrapExt(tracer, config))\n    },\n    unpatch (hapi) {\n      this.unwrap(hapi.Server.prototype, 'start')\n      this.unwrap(hapi.Server.prototype, 'ext')\n    }\n  },\n  {\n    name: 'hapi',\n    versions: ['^7.2'],\n    patch (hapi, tracer, config) {\n      this.wrap(hapi, 'createServer', createWrapServer(tracer, config))\n    },\n    unpatch (hapi) {\n      this.unwrap(hapi, 'createServer')\n    }\n  },\n  {\n    name: '@hapi/hapi',\n    versions: ['>=17.9'],\n    file: 'lib/core.js',\n    patch (Core, tracer, config) {\n      this.wrap(Core.prototype, '_dispatch', createWrapDispatch(tracer, config))\n    },\n    unpatch (Core) {\n      this.unwrap(Core.prototype, '_dispatch')\n    }\n  },\n  {\n    name: 'hapi',\n    versions: ['7.2 - 16'],\n    file: 'lib/connection.js',\n    patch (Connection, tracer, config) {\n      this.wrap(Connection.prototype, '_dispatch', createWrapDispatch(tracer, config))\n    },\n    unpatch (Connection) {\n      this.unwrap(Connection.prototype, '_dispatch')\n    }\n  },\n  {\n    name: 'hapi',\n    versions: ['>=17'],\n    file: 'lib/core.js',\n    patch (Core, tracer, config) {\n      this.wrap(Core.prototype, '_dispatch', createWrapDispatch(tracer, config))\n    },\n    unpatch (Core) {\n      this.unwrap(Core.prototype, '_dispatch')\n    }\n  },\n  {\n    name: 'hapi',\n    versions: ['2 - 7.1'],\n    file: 'lib/server.js',\n    patch (Server, tracer, config) {\n      this.wrap(Server.prototype, '_dispatch', createWrapDispatch(tracer, config))\n    },\n    unpatch (Server) {\n      this.unwrap(Server.prototype, '_dispatch')\n    }\n  }\n]\n"]},"metadata":{},"sourceType":"script"}