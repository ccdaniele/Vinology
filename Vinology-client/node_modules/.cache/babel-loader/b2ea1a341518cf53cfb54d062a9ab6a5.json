{"ast":null,"code":"var _jsxFileName = \"/Users/daniel.calderon/vinology-1.1.0/vinology/Vinology-client/src/components/queries.component.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { currentUser } from '../actions/user.action';\nimport { myQueries } from '../actions/query.action';\nimport ClimbingBoxLoader from \"react-spinners/ClimbingBoxLoader\";\nimport '../css/queries.css';\nimport { currentQuery } from '../actions/car.action';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass queries extends Component {\n  constructor() {\n    super();\n\n    this.loadMyQueries = () => {\n      const queriesArray = [];\n      const user = this.props.user.id;\n      fetch('http://localhost:3000/api/v1/queries').then(resp => resp.json()).then(data => {\n        queriesArray.push(data.filter(query => query.user_id === user));\n        this.props.myQueries(queriesArray);\n        console.log('queries from queries');\n      });\n    };\n\n    this.handleLoading = () => {\n      this.setState({\n        loading: true\n      });\n      setTimeout(() => {\n        this.setState({\n          loading: false\n        });\n      }, 3000);\n    };\n\n    this.handleDelete = e => {\n      const query_id = e.target.value;\n      this.handleLoading();\n      fetch(`http://localhost:3000/api/v1/queries/${query_id}`, {\n        method: 'DELETE'\n      });\n      this.loadMyQueries();\n    };\n\n    this.handleAdd = e => {\n      this.props.currentQuery(e.target.value);\n      this.props.history.push('/newcar');\n    };\n\n    this.handleEdit = e => {\n      const query_edit = e.target.value;\n      this.props.history.push({\n        pathname: '/edit',\n        state: query_edit\n      });\n    };\n\n    this.handleOnClick = e => {\n      const car_id = e.target.value;\n      this.props.history.push({\n        pathname: '/showcar',\n        state: car_id\n      });\n    };\n\n    this.state = {\n      queries: [],\n      car: [],\n      loading: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper-q\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner-r\",\n        children: !this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inner-r\",\n          children: this.props.queries ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inner\",\n            children: this.props.queries[0].map(query => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"firstTernary\",\n              children: /*#__PURE__*/_jsxDEV(\"body\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"container\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"face face1\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"content\",\n                        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                          children: query.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 111,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 109,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"face face2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        class: \"content\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: query.cars.map(car => /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"btn btn-link\",\n                            value: car.id,\n                            onClick: this.handleOnClick,\n                            children: [\" \", car.model]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 119,\n                            columnNumber: 28\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-outline-info\",\n                          value: query.id,\n                          onClick: this.handleAdd,\n                          children: \"Add\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 123,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-outline-info\",\n                          value: query.id,\n                          onClick: this.handleEdit,\n                          children: \"Edit \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-outline-secondary\",\n                          value: query.id,\n                          onClick: this.handleDelete,\n                          children: \"Delete\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 125,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 8\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }, this) : /*#__PURE__*/_jsxDEV(ClimbingBoxLoader, {\n            loading: true,\n            size: 30\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(ClimbingBoxLoader, {\n          loading: true,\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.userData,\n    queries: state.queryData\n  };\n};\n\nconst mapDispathToProps = {\n  currentUser,\n  myQueries,\n  currentQuery\n};\nexport default connect(mapStateToProps, mapDispathToProps)(queries);","map":{"version":3,"sources":["/Users/daniel.calderon/vinology-1.1.0/vinology/Vinology-client/src/components/queries.component.js"],"names":["React","Component","connect","currentUser","myQueries","ClimbingBoxLoader","currentQuery","queries","constructor","loadMyQueries","queriesArray","user","props","id","fetch","then","resp","json","data","push","filter","query","user_id","console","log","handleLoading","setState","loading","setTimeout","handleDelete","e","query_id","target","value","method","handleAdd","history","handleEdit","query_edit","pathname","state","handleOnClick","car_id","car","render","map","name","cars","model","mapStateToProps","userData","queryData","mapDispathToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {currentUser} from '../actions/user.action'\nimport {myQueries} from '../actions/query.action'\nimport ClimbingBoxLoader from \"react-spinners/ClimbingBoxLoader\";\nimport '../css/queries.css';\nimport {currentQuery} from '../actions/car.action'\n\n\n\n\n\nclass queries extends Component{\n  constructor(){\n    super()\n    this.state = {\n     queries:[],\n     car:[],\n     loading: false\n    }\n  }\n\n  loadMyQueries=()=>{\n    \n    const queriesArray = []\n    const user = this.props.user.id\n    \n    \n  \n    fetch('http://localhost:3000/api/v1/queries')\n      .then(resp=>resp.json())\n      .then(data=>{\n     \n       \n        queriesArray.push(data.filter(query=>query.user_id === user))\n            this.props.myQueries(queriesArray) \n    console.log('queries from queries')\n        })\n\n    }\n  \n\n  handleLoading=()=>{\n    this.setState({loading:true})\n     setTimeout(()=>{\n       this.setState({loading:false})\n     },3000)\n\n    }\n     \n\n  handleDelete=(e)=>{\n\n    \n    const query_id = e.target.value\n    this.handleLoading()\n\n      fetch(`http://localhost:3000/api/v1/queries/${query_id}`,{method: 'DELETE'})\n      \n        this.loadMyQueries()\n        \n        \n    \n  }\n\n  handleAdd=(e)=>{\n    this.props.currentQuery(e.target.value)\n\n    \n\n    this.props.history.push('/newcar')\n  }\n\n\n  handleEdit=(e)=>{\n    const query_edit = e.target.value\n    this.props.history.push({\n      pathname: '/edit', \n      state: query_edit\n      })\n  }\n\n  handleOnClick=(e)=>{\n\n    const car_id = e.target.value\n\n    this.props.history.push({\n      pathname: '/showcar', \n      state: car_id\n      })\n  }\n\n  render(){\n    \n\n      return (\n      <div className=\"wrapper-q\" >\n      <div className='inner-r'>\n       {!this.state.loading?\n      <div className='inner-r'>\n        {this.props.queries?\n        <div className='inner'>\n              {this.props.queries[0].map(query=>\n       <div className=\"firstTernary\">\n        <body>\n            <div class=\"container\">\n                <div class=\"card\">\n                    <div class=\"face face1\">\n                        <div class=\"content\">\n                        \n                            <h3>{query.name}</h3>\n                        </div>\n                    </div>\n                    <div class=\"face face2\">\n                        <div class=\"content\">\n                        <div>\n                        {query.cars.map(car=>\n\n                           <button className=\"btn btn-link\" value={car.id} onClick={this.handleOnClick} > {car.model}</button>\n                          \n                           )}\n                          </div>\n                          <button className=\"btn btn-outline-info\" value={query.id}onClick={this.handleAdd}>Add</button>\n                          <button className=\"btn btn-outline-info\" value={query.id}onClick={this.handleEdit}>Edit </button>\n                          <button className=\"btn btn-outline-secondary\" value={query.id}onClick={this.handleDelete}>Delete</button>\n                        </div>\n                       </div>\n                      </div>\n                  </div>\n               </body>\n              </div>\n            )} \n        </div>\n        : <ClimbingBoxLoader  loading={true} size={30}  /> }\n        </div>\n      : <ClimbingBoxLoader  loading={true} size={30}  /> }</div>\n       </div>\n\n    \n    );\n  } \n}\n\nconst mapStateToProps = (state)=>{\n  \n  return {\n      user: state.userData,\n      queries: state.queryData\n  }\n  \n}\n\nconst mapDispathToProps ={\n\n  currentUser, myQueries, currentQuery\n}\n\nexport default connect (mapStateToProps, mapDispathToProps)(queries)\n\n"]},"metadata":{},"sourceType":"module"}